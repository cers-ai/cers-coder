# 打泡泡网页游戏项目需求

---

### 🧱 项目名称

**Bubble Pop Game** - 经典打泡泡网页游戏

---

### 🎯 项目目标

开发一个有趣的打泡泡网页游戏，玩家通过点击或射击来消除彩色泡泡，获得分数。游戏具有现代化的界面设计和流畅的动画效果。

---

### 🔧 系统特性与设计原则

* **响应式设计**：支持桌面和移动设备
* **流畅动画**：使用CSS3和Canvas实现平滑的动画效果
* **游戏机制**：经典的泡泡射击和消除玩法
* **用户体验**：直观的操作界面，即时反馈
* **性能优化**：高效的碰撞检测和渲染

---

### 🧩 智能体构成与职责定义

| 智能体          | 职责                              |
| ------------ | ------------------------------- |
| **PM 智能体**   | 项目管理和开发协调                     |
| **需求分析智能体**  | 分析游戏需求，定义功能模块               |
| **架构设计智能体**  | 设计游戏架构，定义组件结构               |
| **编码工程师智能体** | 实现游戏逻辑、界面和动画效果             |
| **测试智能体**    | 编写测试用例，测试游戏功能               |
| **构建部署智能体**  | 配置构建流程和部署环境                 |
| **文档生成智能体**  | 生成游戏说明和开发文档                 |
| **审查智能体**    | 代码审查和游戏体验优化                 |

---

### 📦 项目输出要求

| 目录/文件         | 描述                   |
| ------------- | -------------------- |
| `out/src/`    | 游戏源代码（HTML/CSS/JS）  |
| `out/assets/` | 游戏资源文件（图片、音效等）     |
| `out/test/`   | 测试代码和测试报告          |
| `out/docs/`   | 游戏说明和开发文档          |
| `out/build/`  | 构建配置和部署文件          |

---

### 💡 技术要求

#### 前端技术栈
- **基础**: HTML5 + CSS3 + JavaScript (ES6+)
- **图形渲染**: HTML5 Canvas
- **动画**: CSS3 Transitions + Canvas动画
- **响应式**: CSS Grid + Flexbox
- **构建工具**: Vite 或 Webpack

#### 游戏引擎
- **物理引擎**: 自定义轻量级物理系统
- **碰撞检测**: 圆形碰撞检测算法
- **状态管理**: 简单的游戏状态机

#### 部署要求
- **静态托管**: 支持GitHub Pages、Netlify等
- **PWA支持**: 可安装的Web应用
- **性能优化**: 资源压缩和缓存策略

---

### 📋 核心功能需求

#### 游戏核心玩法
- [ ] **泡泡射击**: 玩家控制发射器射击彩色泡泡
- [ ] **泡泡消除**: 3个或以上相同颜色的泡泡连接时消除
- [ ] **重力效果**: 失去支撑的泡泡会掉落
- [ ] **关卡系统**: 多个预设关卡，难度递增
- [ ] **分数系统**: 根据消除泡泡数量和连击计分

#### 游戏界面
- [ ] **游戏区域**: 主要的泡泡显示和交互区域
- [ ] **发射器**: 显示当前和下一个泡泡
- [ ] **分数显示**: 实时显示当前分数和最高分
- [ ] **关卡信息**: 显示当前关卡和进度
- [ ] **控制按钮**: 暂停、重新开始、设置等

#### 游戏机制
- [ ] **瞄准系统**: 鼠标/触摸瞄准，显示轨迹预览
- [ ] **物理反弹**: 泡泡碰到墙壁会反弹
- [ ] **颜色匹配**: 智能的颜色匹配算法
- [ ] **连击系统**: 连续消除获得额外分数
- [ ] **特殊泡泡**: 炸弹泡泡、彩虹泡泡等特殊效果

#### 用户体验
- [ ] **音效系统**: 射击、消除、得分等音效
- [ ] **视觉效果**: 粒子效果、爆炸动画
- [ ] **触摸支持**: 移动设备友好的触摸控制
- [ ] **键盘支持**: 方向键和空格键控制
- [ ] **暂停功能**: 游戏暂停和恢复

---

### 🎨 视觉设计要求

#### 色彩方案
- **主色调**: 明亮活泼的色彩搭配
- **泡泡颜色**: 红、橙、黄、绿、蓝、紫等6-8种基础颜色
- **背景**: 渐变背景或简洁的几何图案
- **UI元素**: 现代扁平化设计风格

#### 动画效果
- **泡泡移动**: 平滑的抛物线轨迹
- **消除动画**: 泡泡爆炸和消失效果
- **掉落动画**: 重力影响下的自然掉落
- **界面动画**: 按钮点击、分数变化等微动画

#### 响应式设计
- **桌面端**: 1200px+ 宽屏布局
- **平板端**: 768px-1199px 适配
- **手机端**: 320px-767px 竖屏优化

---

### 🎮 游戏规则

#### 基础规则
1. **射击**: 玩家点击屏幕或按空格键发射泡泡
2. **消除**: 3个或以上相同颜色的相邻泡泡会被消除
3. **掉落**: 失去连接的泡泡会掉落并被清除
4. **胜利**: 清除所有泡泡完成关卡
5. **失败**: 泡泡堆积到底线时游戏结束

#### 计分规则
- **基础消除**: 每个泡泡10分
- **连击奖励**: 连续消除获得倍数奖励
- **掉落奖励**: 掉落的泡泡额外得分
- **关卡奖励**: 完成关卡获得额外分数

#### 特殊机制
- **瞄准辅助**: 显示射击轨迹预览线
- **墙壁反弹**: 泡泡可以通过墙壁反弹到达目标
- **颜色预览**: 显示当前和下一个泡泡颜色
- **时间限制**: 可选的时间挑战模式

---

### 🔒 技术实现要点

#### 核心算法
- **碰撞检测**: 圆形与圆形的碰撞检测
- **路径计算**: 考虑反弹的轨迹计算
- **连通性检测**: 深度优先搜索找出连接的泡泡
- **物理模拟**: 简单的重力和弹性模拟

#### 性能优化
- **对象池**: 复用泡泡对象减少GC
- **帧率控制**: 稳定的60FPS渲染
- **事件节流**: 优化用户输入处理
- **资源预加载**: 提前加载游戏资源

#### 数据结构
- **网格系统**: 六边形网格布局
- **状态管理**: 游戏状态、关卡数据、用户进度
- **配置系统**: 可调节的游戏参数

---

### 📈 扩展功能（可选）

- **多人模式**: 本地双人对战
- **关卡编辑器**: 用户自定义关卡
- **成就系统**: 解锁各种游戏成就
- **排行榜**: 本地最高分记录
- **主题切换**: 多种视觉主题选择
